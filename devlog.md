# 开发日志

## 2025-12-09

### 1. 更新项目文档 (README.md)

为了提高项目的可读性和易用性，对 `README.md` 文件进行了全面的重写和扩充。

**主要变更**:
- **功能特性**: 对每一项功能进行了更详细的描述，解释了其工作原理和优势，如 RSA 加密、抢课策略（随机延时、最大尝试次数）等。
- **快速开始**: 提供了更详尽的步骤，包括环境准备、依赖安装，并特别强调了修改硬编码凭据的重要性。
- **架构与设计**: 补充了项目分层架构的详细说明，解释了应用层、服务层、核心模块层和工具层各自的职责与协作方式。
- **安全与注意事项**: 增加了关于凭据安全、RSA 公钥更新、接口变动风险和合理抢课频率的详细警告。
- **目录结构**: 使用 Emoji 为目录结构增加了可读性，并对核心文件和目录的功能进行了注释。
- **FAQ 与开发建议**: 丰富了常见问题解答，并为后续开发者提供了更具体的维护和迭代建议。

此次更新使文档更加结构化、内容更丰富，能帮助新用户和开发者快速理解项目。

### 2. 重构考试查询功能

识别到“考试查询”功能的代码风格与项目其他部分（如课程搜索、参数提取）不一致，并对其进行了重构，以统一代码库的架构风格。

**问题**:
- `ExamService` 只是 `ExamExtractor` 的一个简单包装器，逻辑完全封装在 `Extractor` 中。
- 项目的主流风格是 `Service` 类本身负责处理业务逻辑，包括构建请求、发送请求、解析响应和错误处理。

**重构步骤**:
1.  **逻辑迁移**: 将 `modules/exam_extractor.py` 中的所有业务逻辑（包括构造请求、发送 POST 请求、解析 JSON 响应、错误处理和数据格式化）全部迁移到 `modules/services/exam_service.py` 的 `get` 方法中。
2.  **简化服务**: `ExamService` 的 `__init__` 方法现在直接初始化 `requests.Session`，不再创建 `ExamExtractor` 实例。
3.  **删除冗余文件**: 删除了 `modules/exam_extractor.py` 文件，因为它已不再被使用。

**结果**:
- `ExamService` 现在是一个自包含的服务，其实现方式与 `SearchService`、`ParamService` 等服务保持一致。
- 项目的架构更加清晰和统一，降低了后续维护的复杂度。
- 对外接口 (`app_orchestrator.py` 中的调用) 保持不变，未影响上层功能。
